import{a as c,j as e,H as u}from"./MusicContext-slWrcBgN.js";import{A as h}from"./AppLayout-Dx5iskOL.js";import"./user-Ddv4lomu.js";import"./createLucideIcon-DpaJH_nj.js";const f={Pablo:"7wY8cwtF13xDJIHO7htMNk",Josh:"3xn2W0ziGURPYJj372a6jQ",Stell:"4bpUKZGsImgabgDABbThr0",Felip:"2tEFDBihLXytoPl4xdResl",Justin:"3xn2W0ziGURPYJj372a6jQ"},b="3g7vYcdDXnqnDKYFwqXBJP",j={SB19:b,...f};function k(){const[o,x]=c.useState([]),[l,n]=c.useState(!1),d=async()=>{n(!0);const a=[];for(const[s,t]of Object.entries(j))try{const m=(await(await fetch(`/api/spotify/artists/${t}/top-tracks?market=PH`)).json()).tracks||[];a.push({name:s,tracks:m.map(p=>{const r=p;return{name:r.name,preview_url:r.preview_url,spotify_url:r.external_urls?.spotify||null}})})}catch{a.push({name:s,tracks:[]})}x(a),n(!1)};return e.jsxs(h,{children:[e.jsx(u,{title:"Preview URL Test"}),e.jsxs("div",{className:"max-w-2xl mx-auto py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6 text-yellow-400",children:"Check 30s Preview Availability"}),e.jsx("button",{onClick:d,className:"px-4 py-2 bg-yellow-400 text-black rounded hover:bg-yellow-300 font-semibold mb-8",disabled:l,children:l?"Checking...":"Check All Artists"}),e.jsx("div",{className:"space-y-8",children:o.map(a=>{const s=a;return e.jsxs("div",{className:"bg-gray-800 p-4 rounded",children:[e.jsx("div",{className:"font-bold text-yellow-300 mb-2",children:s.name}),e.jsxs("ul",{className:"space-y-1",children:[s.tracks.map((t,i)=>e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-200",children:t.name}),t.preview_url?e.jsx("span",{className:"text-green-400 text-xs",children:"[Preview Available]"}):e.jsx("span",{className:"text-red-400 text-xs",children:"[No Preview]"}),t.spotify_url&&e.jsx("a",{href:t.spotify_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline text-xs",children:"Spotify"})]},i)),s.tracks.length===0&&e.jsx("li",{className:"text-gray-400",children:"No tracks found."})]})]},s.name)})})]})]})}export{k as default};
