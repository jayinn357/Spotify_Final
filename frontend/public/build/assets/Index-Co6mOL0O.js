import{u as J,b as Q,a,j as e,H as V,d as h}from"./MusicContext-slWrcBgN.js";import{A as ee}from"./AppLayout-Dx5iskOL.js";import"./user-Ddv4lomu.js";import"./createLucideIcon-DpaJH_nj.js";const se="3g7vYcdDXnqnDKYFwqXBJP",le={"Get In The Zone":"4JlsfnNH8MCDXR0ypy1zcm",Pagsibol:"4bieHSYaRSMRAoDF47qfSf","PAGTATAG!":"7svCelXfTenSbzFXKj3zGF","Simula at Wakas":"04tWizEPzUimMQaZKdZwzJ"};function oe(){const{playTrack:R,playAlbumPlaylist:j,playAllSongsPlaylist:g}=J(),{props:Z}=Q(),n=!!Z?.auth?.user,u=["/images/banner-1.jpg","/images/banner-2.jpg","/images/banner-3.jpg","/images/banner-4.jpg"],v=a.useRef(null),F=()=>{if(v.current){const s=["<svg width='32' height='32' fill='currentColor' class='text-purple-500' viewBox='0 0 24 24'><path d='M9 18V5l12-2v13'/><circle cx='6' cy='18' r='3'/><circle cx='18' cy='16' r='3'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-yellow-400' viewBox='0 0 24 24'><path d='M12 3v2m6.364 1.636-1.414 1.414M21 12h-2M19.364 18.364l-1.414-1.414M12 19v2M6.343 17.657l-1.414-1.414M3 12h2M6.343 6.343l-1.414 1.414M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-pink-400' viewBox='0 0 24 24'><path d='M5.8 11.3 2 22l10.7-3.8M5.8 11.3l7.1 7.1m-7.1-7.1 9.9-9.9c.4-.4 1-.4 1.4 0l2.5 2.5c.4.4.4 1 0 1.4l-9.9 9.9m0 0L2 22m10.7-3.8 9.2-3.2c.5-.2.7-.8.3-1.2l-2.2-2.2m-7.3 6.6 6.6-6.6'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-green-400' viewBox='0 0 24 24'><path d='M12 21C7.029 21 3 16.971 3 12S7.029 3 12 3s9 4.029 9 9-4.029 9-9 9Zm0-4a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-blue-400' viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><path d='M8 15s1.5 2 4 2 4-2 4-2'/><path d='M9 9h.01M15 9h.01'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-red-500' viewBox='0 0 24 24'><path d='M12 21C7.029 21 3 16.971 3 12S7.029 3 12 3s9 4.029 9 9-4.029 9-9 9Zm0-4a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z'/></svg>","<svg width='32' height='32' fill='currentColor' class='text-yellow-300' viewBox='0 0 24 24'><circle cx='12' cy='12' r='10'/><path d='M8 15s1.5 2 4 2 4-2 4-2'/><path d='M9 9h.01M15 9h.01'/></svg>"];for(let t=0;t<30;t++){const l=document.createElement("span");l.style.position="absolute",l.style.left=Math.random()*100+"%",l.style.top="60%",l.style.fontSize="2rem",l.style.pointerEvents="none",l.style.transition="transform 1.5s, opacity 1.5s",l.innerHTML=s[Math.floor(Math.random()*s.length)],v.current.appendChild(l),setTimeout(()=>{l.style.transform=`translateY(-${100+Math.random()*100}px) rotate(${Math.random()*360}deg)`,l.style.opacity="0"},10),setTimeout(()=>{l.remove()},1600)}}setTimeout(()=>{h.visit("/random-song")},1e3)},[M,$]=a.useState(!1),[A,z]=a.useState(0),[o,T]=a.useState([]),[w,N]=a.useState(!0),[p,f]=a.useState(null),[_,O]=a.useState(0),[W,B]=a.useState(!1),[b,q]=a.useState(null),[i,x]=a.useState([]),[C,P]=a.useState(!1),[U,E]=a.useState(!1),[c,I]=a.useState([]),[S,G]=a.useState(!1);a.useEffect(()=>{if(!n){N(!1),T([]);return}(async()=>{N(!0),f(null);try{const t=await fetch("/api/tracks/sb19/popular");if(t.ok){const l=await t.json();l.tracks&&l.tracks.length>0?T(l.tracks):f("No tracks found in database")}else await t.text(),f(`Failed to load popular tracks: ${t.status}`)}catch{f("Network error occurred")}finally{N(!1)}})()},[n]),a.useEffect(()=>{const s=setInterval(()=>{z(t=>(t+1)%u.length)},5e3);return()=>clearInterval(s)},[u.length]),a.useEffect(()=>{const s=()=>{const t=Math.min(window.scrollY/300,1);O(t)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const k=s=>{const t=Math.floor(s/6e4),l=Math.floor(s%6e4/1e3);return`${t}:${l.toString().padStart(2,"0")}`},y=async s=>{q(s),B(!0),P(!0),x([]);try{const t=le[s];if(!t){console.error(`No album ID found for ${s}`),x([]);return}const l=await fetch(`/api/spotify/albums/${t}/tracks?market=PH`);if(l.ok){const d=await l.json();x(d.tracks||[])}else console.error("Failed to fetch album tracks:",l.status),x([])}catch(t){console.error("Error fetching album tracks:",t),x([])}finally{P(!1)}},Y=async()=>{G(!0),I([]);try{const s=[],t=await fetch(`/api/spotify/artists/${se}/top-tracks?market=PH`);if(t.ok){const r=await t.json();console.log("=== DEBUG: SB19 Top Tracks in All Songs Modal ==="),console.log("Top tracks data:",r),r.tracks&&r.tracks.length>0&&console.log("First top track album images:",r.tracks[0].album?.images),console.log("=== END DEBUG ==="),s.push(...r.tracks||[])}const l=['SB19 "Get In The Zone"',"SB19 MAPA","SB19 Bazinga","SB19 What?","SB19 MANA","SB19 SLMT",'SB19 "Hanggang Sa Huli"','SB19 "Go Up"','SB19 "Alab"',"SB19 GENTO","SB19 LIHAM","SB19 CRIMZONE","SB19 FREEDOM",'SB19 "I Want You"',"SB19 DUNGKA","SB19 Quit","SB19 Time","SB19 8TonBall","SB19 DAM"];for(const r of l)try{const m=await fetch(`/api/spotify/search?q=${encodeURIComponent(r)}&type=track&limit=10&market=PH`);if(m.ok){const L=await m.json();if(L.tracks?.items){const X=L.tracks.items.filter(K=>K.artists.some(H=>H.name==="SB19"||H.name.includes("SB19")));s.push(...X)}}}catch(m){console.error(`Error searching for ${r}:`,m)}const d=[],D=new Set;s.forEach(r=>{D.has(r.id)||(D.add(r.id),d.push(r))}),d.sort((r,m)=>(m.popularity||0)-(r.popularity||0)),I(d)}catch(s){console.error("Error fetching all group songs:",s)}finally{G(!1)}};return e.jsxs(ee,{children:[e.jsx(V,{title:"SB19 Home"}),e.jsxs("section",{className:"relative w-full min-h-screen bg-fixed bg-center bg-cover -mt-[1px] transition-all duration-1000 ease-in-out",style:{backgroundImage:`url(${u[A]})`,minHeight:"80vh",height:"80dvh"},children:[e.jsx("div",{className:"absolute inset-0 bg-black",style:{opacity:_}}),e.jsx("div",{className:"absolute bottom-12 left-0 w-full flex items-center px-8 md:px-16 py-4",children:e.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden border-4 border-yellow-400 shadow-lg",children:e.jsx("img",{src:"/images/logo.jpg",alt:"SB19 Logo",className:"w-full h-full object-cover"})})}),e.jsx("div",{className:"absolute bottom-12 left-0 w-full flex justify-center space-x-4",children:u.map((s,t)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${t===A?"bg-yellow-400":"bg-gray-500"}`},t))})]}),e.jsxs("section",{className:"py-12 px-6 bg-black text-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"ðŸ”¥ Popular Songs"}),e.jsx("button",{onClick:()=>{E(!0),Y()},className:"text-yellow-400 hover:text-yellow-300 font-semibold border border-yellow-400 hover:border-yellow-300 px-4 py-2 rounded-full transition-all",children:"View All SB19 Songs"})]}),o.length>0&&!p&&!w&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>{g(o,0)},className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-300 transition-colors font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"â–¶ï¸"}),e.jsx("span",{children:"Play All"})]})}),e.jsx("div",{className:"divide-y divide-gray-700",children:p?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-400 mb-4",children:p}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-yellow-400 text-black rounded hover:bg-yellow-300",children:"Retry"})]}):w?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading popular tracks from Spotify..."})]}):o.length===0?e.jsx("div",{className:"text-center py-8",children:n?e.jsx("p",{className:"text-gray-400",children:"No popular tracks found."}):e.jsxs("div",{className:"text-gray-400",children:[e.jsxs("p",{className:"mb-4",children:["Please ",e.jsx("a",{href:"/login",className:"text-yellow-400",children:"login"})," to view SB19 songs."]}),e.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-yellow-400 text-black rounded",children:"Login"})]})}):(M?o:o.slice(0,5)).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between py-3 px-2 hover:bg-gray-800/70 rounded-lg transition",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-gray-400 w-6 text-sm",children:t+1}),e.jsx("img",{src:s.album.images[0]?.url,alt:s.album.name,className:"w-10 h-10 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium block",children:s.name}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.artists.map(l=>l.name).join(", ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[e.jsx("span",{className:"text-sm",children:k(s.duration_ms)}),e.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),R(s,o,"Popular SB19 Songs")},className:"text-yellow-400 hover:text-yellow-300 text-lg",title:s.preview_url?"Play 30s preview":"Open in Spotify",children:"â–¶"})]})]},s.id))}),o.length>5&&!p&&!w&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:()=>$(s=>!s),className:"flex items-center text-yellow-400 hover:text-yellow-300 font-semibold px-4 py-2 rounded-full border border-yellow-400 hover:border-yellow-300 transition-all bg-black",children:M?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"Show Less"}),e.jsx("span",{className:"text-xl",children:"â–²"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mr-2",children:"Show More"}),e.jsx("span",{className:"text-xl",children:"â–¼"})]})})})]}),e.jsxs("section",{className:"p-8 bg-gradient-to-b from-gray-900 to-black min-h-[500px]",children:[e.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-8 text-center",children:"ðŸŽ¶ Albums"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>{if(!n)return h.visit("/login");y("Get In The Zone")},children:[e.jsx("img",{src:"/images/album1.jpg",alt:"Get In The Zone",className:"w-full h-40 object-cover rounded-md mb-4"}),e.jsx("h3",{className:"text-yellow-400 font-bold text-lg",children:"Get In The Zone"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"2020 â€¢ 9 tracks"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>{if(!n)return h.visit("/login");y("Pagsibol")},children:[e.jsx("img",{src:"/images/album2.jpg",alt:"Pagsibol",className:"w-full h-40 object-cover rounded-md mb-4"}),e.jsx("h3",{className:"text-yellow-400 font-bold text-lg",children:"Pagsibol"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"2021 â€¢ 6 tracks"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>{if(!n)return h.visit("/login");y("PAGTATAG!")},children:[e.jsx("img",{src:"/images/album3.jpg",alt:"PAGTATAG!",className:"w-full h-40 object-cover rounded-md mb-4"}),e.jsx("h3",{className:"text-yellow-400 font-bold text-lg",children:"PAGTATAG!"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"2023 â€¢ 6 tracks"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 hover:bg-gray-700 transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>{if(!n)return h.visit("/login");y("Simula at Wakas")},children:[e.jsx("img",{src:"/images/album4.jpg",alt:"Simula at Wakas",className:"w-full h-40 object-cover rounded-md mb-4"}),e.jsx("h3",{className:"text-yellow-400 font-bold text-lg",children:"Simula at Wakas"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"2025 â€¢ 7 tracks"})]})]})]}),e.jsxs("section",{ref:v,className:"relative py-16 px-6 bg-gradient-to-br from-black via-yellow-600 to-black text-center text-white overflow-hidden",children:[e.jsx("h2",{className:"text-4xl font-extrabold mb-6 drop-shadow-lg fun-title",children:"Want Some Inspiration???"}),e.jsx("button",{className:"px-8 py-4 rounded-full bg-yellow-400 text-black font-extrabold text-xl shadow-xl hover:bg-yellow-300 transition-all duration-200 animate-bounce hover:scale-110 active:scale-95 fun-btn",onClick:F,children:"Click Me! ðŸŽ¶"})]}),W&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:b}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-white text-2xl",children:"Ã—"})]}),n?e.jsxs(e.Fragment,{children:[i.length>0&&!C&&e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsxs("button",{onClick:()=>{j(i,b||"",0)},className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-300 transition-colors font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"â–¶ï¸"}),e.jsx("span",{children:"Play All"})]}),e.jsxs("button",{onClick:()=>{const s=[...i];for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}j(s,b||"",0)},className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-500 transition-colors font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"ðŸ”€"}),e.jsx("span",{children:"Shuffle"})]})]}),C?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading tracks..."})]}):e.jsx("div",{className:"divide-y divide-gray-700",children:i.length>0?i.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between py-3 px-2 hover:bg-gray-800/70 rounded-lg transition",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-gray-400 w-6 text-sm",children:t+1}),e.jsx("img",{src:s.album?.images?.[0]?.url,alt:s.album?.name||s.name,className:"w-10 h-10 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium block",children:s.name}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.artists.map(l=>l.name).join(", ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[e.jsx("span",{className:"text-sm",children:k(s.duration_ms)}),e.jsx("button",{onClick:()=>j(i,b||"",i.findIndex(l=>l.id===s.id)),className:"text-yellow-400 hover:text-yellow-300 text-lg",title:s.preview_url?"Play 30s preview":"Open in Spotify",children:"â–¶"})]})]},s.id)):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No tracks found for this album."})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("p",{className:"text-gray-400 mb-4",children:["Please ",e.jsx("a",{href:"/login",className:"text-yellow-400",children:"login"})," to view this album's songs."]}),e.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-yellow-400 text-black rounded",children:"Login"})]})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-gray-900 p-8 rounded-lg max-w-4xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:"All SB19 Songs"}),e.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white text-2xl",children:"Ã—"})]}),c.length>0&&!S&&e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsxs("button",{onClick:()=>{g(c,0)},className:"bg-yellow-400 text-black px-6 py-2 rounded-lg hover:bg-yellow-300 transition-colors font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"â–¶ï¸"}),e.jsx("span",{children:"Play All"})]}),e.jsxs("button",{onClick:()=>{const s=[...c];for(let t=s.length-1;t>0;t--){const l=Math.floor(Math.random()*(t+1));[s[t],s[l]]=[s[l],s[t]]}g(s,0)},className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-500 transition-colors font-semibold flex items-center space-x-2",children:[e.jsx("span",{children:"ðŸ”€"}),e.jsx("span",{children:"Shuffle"})]})]}),S?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading all songs..."})]}):e.jsxs("div",{className:"overflow-y-auto max-h-[60vh] divide-y divide-gray-700",children:[c.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between py-3 px-2 hover:bg-gray-800/70 rounded-lg transition",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-gray-400 w-6 text-sm",children:t+1}),e.jsx("img",{src:s.album.images[0]?.url,alt:s.album.name,className:"w-10 h-10 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium block",children:s.name}),e.jsx("span",{className:"text-gray-400 text-sm",children:s.artists.map(l=>l.name).join(", ")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-gray-400",children:[e.jsx("span",{className:"text-sm",children:k(s.duration_ms)}),e.jsx("button",{onClick:l=>{l.preventDefault(),l.stopPropagation(),g(c,c.findIndex(d=>d.id===s.id))},className:"text-yellow-400 hover:text-yellow-300 text-lg",title:s.preview_url?"Play 30s preview":"Open in Spotify",children:"â–¶"})]})]},s.id)),c.length===0&&!S&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:"No songs found."})})]})]})})]})}export{oe as default};
